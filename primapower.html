<html>
<head>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <script language="JavaScript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" ></script>
 <title>PrimaPower SoMe</title>

 <link rel="stylesheet" type="text/css" href="primapower.css">
 
 <script>
 function menu(valinta){
	switch(valinta) {
    case 0:
        document.getElementById("ikkuna").innerHTML =
		somediv;
		//some valittu
        document.getElementById("asetukset").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/settings-filled.png">';
        document.getElementById("laitteet").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/joystick-filled.png">';
		document.getElementById("some").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/secured-letter.png">';
		break;
    case 1:
        document.getElementById("ikkuna").innerHTML =
		laitteetdiv;
		//laitteet valittu
        document.getElementById("asetukset").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/settings-filled.png">';
        document.getElementById("laitteet").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/joystick.png">';
        document.getElementById("some").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/secured-letter-filled.png">';
		break;
    case 2:
        document.getElementById("ikkuna").innerHTML =
		asetuksetdiv;
        //asetukset valittu
        document.getElementById("asetukset").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/settings.png">';
        document.getElementById("laitteet").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/joystick-filled.png">';
		document.getElementById("some").innerHTML =
		'<img class="ikoni" src="https://img.icons8.com/ios/50/000000/secured-letter-filled.png">';
		break;
	}	
 }
// ___  _____  __  __  ____ 
/// __)(  _  )(  \/  )( ___)
//\__ \ )(_)(  )    (  )__) 
//(___/(_____)(_/\/\_)(____)

	//lähetysfunktio
	function send(){
	   if(document.getElementById('msg').value != 0){
   		var user = localStorage.getItem('storedname');
   		var msg = $('#msg').val();
   
   $.ajax({
        url: "http://www.cc.puv.fi/~e1801117/cgi-bin/primapower.php/",
        type: "GET", 
        data:"msg="+encodeURIComponent(msg)+"&user="+encodeURIComponent(user)
   });;
  console.log("msg sent! user:"+user+" msg:"+msg)
  document.getElementById("msg").value = '';
 
    var ifr = document.getElementsByName('asdf')[0];
    ifr.src = ifr.src;
}}

  somediv =
	'<div class="laheta">'+
	'<table class="levenna">'+
		'<tr>'+
			'<td colspan="5"><textarea maxlength="512" id="msg" placeholder="Kirjoita uusi viesti" onkeypress="if(event.keyCode==13) {send();};"></textarea></td>'+
			'<td><img onclick="send()" class="naama" src="http://worldartsme.com/images/business-person-clipart-1.jpg"></td>'+
		'</tr>'+
		'<tr>'+
			//Lisää kuva
			'<td><div class="dropdown">'+
				'<img class="smol" src="https://img.icons8.com/ios-glyphs/50/000000/add-image.png">'+
				'<div class="dropdown-content">'+
				'<input type="file" id="filee">'+
				'</div></div>'+
				'</td>'+
			//Lisää liite
			'<td><div class="dropdown">'+
				'<img class="smol" src="https://img.icons8.com/ios-glyphs/50/000000/add-file.png">'+
				'<div class="dropdown-content">'+
				'e'+
				'</div></div></td>'+
			//Lisää henkilö
			'<td><div class="dropdown">'+
				'<img class="smol" src="https://img.icons8.com/ios-glyphs/50/000000/contacts.png">'+
				'<div class="dropdown-content">'+
				'</div></div></td>'+
			//Lisää linkki
			'<td><div class="dropdown">'+
				'<img class="smol" src="https://img.icons8.com/ios-glyphs/50/000000/add-link.png">'+
				'<div class="dropdown-content">'+
				'</div></div></td>'+
			'<td colspan="2"></td>'+
		'</tr>'+
	'</table>'+
	'<hr>'+
	'</div>'+

//Elämä on tuskaa.



	'<div>'+
	'<iframe name="asdf" src="http://www.cc.puv.fi/~e1801117/cgi-bin/select.php"></iframe>'+
	'</div>';
	
// __      __    ____  ____  ____  ____  ____  ____ 
//(  )    /__\  (_  _)(_  _)(_  _)( ___)( ___)(_  _)
// )(__  /(__)\  _)(_   )(    )(   )__)  )__)   )(  
//(____)(__)(__)(____) (__)  (__) (____)(____) (__)
  laitteetdiv =
'<div style="overflow:auto; width:100%;height:90%;position: absolute;bottom: 0;text-align: center;">'+
	'<div class="laitteet"> <img src="https://www.primapower.com/wp-content/uploads/2018/10/Prima-Power-BCe-Smart-400x300.png">'+
	'<br>  <div2>  BCe Smart <br>  Uptime: 14:23:21 </br> </div2> </br>'+
   	'<img src="https://i.imgur.com/ByAHcUh.png"> -------------- <style> float: center;</style> <img src="https://i.imgur.com/D3TwR2G.png"> -------------- <img src="https://i.imgur.com/lbP0Q3u.png">'+
	'</div>'+

	'<div class="laitteet"> <img src="https://www.primapower.com/wp-content/uploads/2018/10/Prima-Power-EBe-400x300.png">'+
	'<br>  <div3>  EBe <br>  Uptime: 0:14:31 </br> </div3> </br>'+
   	'<img src="https://i.imgur.com/ByAHcUh.png"> -------------- <style> float: center;</style> <img src="https://i.imgur.com/D3TwR2G.png"> -------------- <img src="https://i.imgur.com/lbP0Q3u.png">'+
	'</div>'+


	'<div class="laitteet"> <img src="https://www.primapower.com/wp-content/uploads/2018/10/Prima-Power-FBe-400x300.png">'+
	'<br>  <div4>  FBe <br>  Uptime: 0:23:19 </br> </div4> </br>'+
   	'<img src="https://i.imgur.com/ByAHcUh.png"> -------------- <style> float: center;</style> <img src="https://i.imgur.com/D3TwR2G.png"> -------------- <img src="https://i.imgur.com/lbP0Q3u.png">'+
	'</div>'+


	'<div class="laitteet"> <img src="https://www.primapower.com/wp-content/uploads/2018/10/Prima-Power-BCe-400x300.png">'+
	'<br>  <div5>  BCe <br>  Uptime: 48:31:11 </br> </div5> </br>'+
   	'<img src="https://i.imgur.com/ByAHcUh.png"> -------------- <style> float: center;</style> <img src="https://i.imgur.com/D3TwR2G.png"> -------------- <img src="https://i.imgur.com/lbP0Q3u.png">'+
	'</div>'+

'</div>';
	
//   __    ___  ____  ____  __  __  _  _  ___  ____  ____ 
//  /__\  / __)( ___)(_  _)(  )(  )( )/ )/ __)( ___)(_  _)
// /(__)\ \__ \ )__)   )(   )(__)(  )  ( \__ \ )__)   )(  
//(__)(__)(___/(____) (__) (______)(_)\_)(___/(____) (__) 
 
	if (localStorage.getItem('storedname') == 0 || localStorage.getItem('storedname') == undefined){
		localStorage.setItem('storedname', 'Teuvo Testikaeyttaja');
		console.log("No username found in localstorage. Changed to default");
		}else{
		console.log("Username found in localstorage: "+localStorage.getItem('storedname'));
		}
  
  function storename(){
    localStorage.setItem('storedname', document.getElementById("user").value);
	console.log("Username changed to: "+localStorage.getItem('storedname'));
  }	
  
  asetuksetdiv =
	'<div class="keskita laheta">'+
 	'<input type="text" value="'+localStorage.getItem("storedname")+'" id="user">'+
	'<br><br><button onclick="storename()">Vaihda nimi</button>'+
	'</div>';

 </script>
</head>

<body onload="menu(0);">

<nav>
 <ul>
  <li><div onclick="menu(0);" id="some"></div></li>
  <li><div onclick="menu(1);" id="laitteet"></div></li>
  <li><div onclick="menu(2);" id="asetukset"></div></li>
  <li><img class="logo" src="primapowerlogo.jpg"></img></li>
 </ul>
</nav>

<div id="ikkuna">

</div>

<!--esimerkkikuvan tulostus
<p id="kuva">
<button onclick="malli()">Näytä sketsi</button>
</p>
<script>
function malli(){
	document.getElementById("kuva").innerHTML =
	'<style>.kuva{width:100%;height:auto;}</style>'+
	'<img class="kuva" src="primapower.png"></img>';
}
</script>-->
</body>
</html>
<!--(C)Taavetti Kuula-->